# 1 "m_cdf.f90"
! Module:
! cdf
!
! Author:
! Oliver Fuhrer, Tue Jun 27 08:21:28 CEST 2006
! oliver.fuhrer@epfl.ch
!
! Description:
! This module contains a collection of subroutines
! and functions for reading and writing data as well
! as handling NetCDF files. This module is base on the
! Fortran90 NetCDF interface. Function overloading is
! used to make usage for 0d,1d,2d,3d variables trans-
! parent. Fields can be time dependent. The order of
! space dimensions can be flipped for storage if re-
! quired via an option. COARDS standard is observerd
! and scaled/offsetted data will be handled correctly.
! Ideally, calls are made using keyword arguments.
!
! Example (how to write a simple NetCDF file):
!
!  ! begin session
!  call cdfbegin(fname,'example.nc',.true.)
!  ! define time axis
!  call cdftime('time','seconds since 1975-17-12 03:00:00 LT')
!  ! dimensions
!  call cdfdimput('x',nx)
!  call cdfdimput('z',nz)
!  ! attributes
!  call cdfattput('','Conventions','COARDS')
!  call cdfattput('','Source','example')
!  call cdfattput('','dx',dx)
!  call cdfattput('','dz',dz)
!  ! time independent variables
!  call cdfvarput('x',x(1:nx),(/'x'/),units='m')
!  call cdfvarput('z',z(1:nz),(/'z'/),units='m')
!  call cdfvarput('xc',xc(1:nx,1:nz),(/'x','z'/),units='m')
!  call cdfvarput('zc',zc(1:nx,1:nz),(/'x','z'/),units='m')
!  ! time dependent variables
!  call cdfvarput('cfl',cfl,time=t)
!  call cdfvarput('rho',rho(1:nx,1:nz),(/'x','z'/),time=t,units='kg/m3')
!  call cdfvarput('u',u(1:nx,1:nz),(/'x','z'/),time=t,units='m/s')
!  call cdfvarput('w',w(1:nx,1:nz),(/'x','z'/),time=t,units='m/s')
!  call cdfvarput('theta',theta(1:nx,1:nz),(/'x','z'/),time=t,units='K')
!  ! end session
!  call cdfend()
!
! Version History
! 02.04.2007 OF
!            Major changes! Merged time-dependent and time-independent
!            routines into one. Change philosophy to keyworded arguments.
!            Introduced possibility to read/write subdomains. Introduced
!            automatic handling of COARDS standard. As well as some bugfixes.
! 30.03.2007 OF
!            Some minor bugfixing due to bugs discovered using
!            the test routine test_cdf.f90
! 21.03.2007 OF
!            Addition of routines to inquire about presence
!            of dimensions, variables and attributes.
! 20.03.2007 OF
!            Simple modifications made for reading of NCEP reanalysis
!            data, since we had the wrong name for the units attribute.
!            Error fixed in the cdftimiget routine.
! 27.06.2006 OF
!            First version implementing reading and writing
!            fields up to three dimensions including a time
!            dimension. This version is used mainly for writing
!            and reading simples 2d computational meshes and
!            writing some simple 2d fields into NetCDF files.
!            Rigorous debuggin still to be done...

# 72
module cdf


























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































# 3203
end module cdf
